function toTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}const pokemonRepository=function(){let e=[];const t=function(t){e.push(t)},n=function(){const e=document.getElementById("pokemon-list"),t=document.querySelector(".loading-msg");e.removeChild(t)},o=function(e){document.querySelector(".modal-title").innerText="Loading...",document.querySelector(".modal-body").innerText="Searching for your pokemon...";let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})},i=function(e){o(e).then(function(){const t=document.querySelector(".modal-content");t.setAttribute("data-pokemon-index",e.id);const n=document.querySelector(".modal-body");n.innerText="",t.querySelector(".modal-title").innerText=e.name;const o=document.createElement("img");o.setAttribute("src",e.imageUrl),o.classList.add("mx-auto","mw-100","pokemon-img"),n.appendChild(o);const i=document.createElement("p");i.innerText=`Height: ${e.height}m`,n.appendChild(i)})};return document.getElementById("next-btn").addEventListener("click",function(){const t=+document.querySelector(".modal-content").dataset.pokemonIndex;t+1<e.length?i(e[t+1]):i(e[0])}),document.getElementById("prev-btn").addEventListener("click",function(){const t=+document.querySelector(".modal-content").dataset.pokemonIndex;i(t-1>-1?e[t-1]:e[e.length-1])}),document.getElementById("search-field").addEventListener("input",function(e){const t=document.querySelectorAll("li"),n=e.target.value.toLowerCase();console.log(n),t.forEach(function(e){e.innerText.toLowerCase().indexOf(n)>=0?e.style.display="block":e.style.display="none"})}),{getAll:function(){return e},add:t,addListItem:function(e){const t=document.getElementById("pokemon-list"),n=document.createElement("li");n.classList.add("col-md-5","col-sm-12");const o=document.createElement("button");o.innerText=e.name,o.classList.add("btn","btn-outline-primary","btn-block","list-group-item","list-group-item-action","pokemon-btn"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemon-details"),o.addEventListener("click",i.bind(null,e)),n.appendChild(o),t.appendChild(n)},loadList:function(){return function(){const e=document.getElementById("pokemon-list"),t=document.createElement("h2");t.classList.add("loading-msg"),t.textContent="Loading pokemon content...",e.appendChild(t)}(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return n(),e.json()}).then(function(n){n.results.forEach(function(n){let o={name:toTitleCase(n.name),detailsUrl:n.url};t(o),o.id=e.indexOf(o)})}).catch(function(e){n(),console.error(e)})},loadDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
